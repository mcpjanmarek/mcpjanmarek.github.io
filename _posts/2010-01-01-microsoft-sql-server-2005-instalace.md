---
id: 38
title: 'Microsoft SQL Server 2005 &#8211; instalace'
date: 2010-01-01T09:22:00+02:00
author: Jan Marek
layout: post
guid: http://jmarek.wordpress.com/2010/01/01/microsoft-sql-server-2005-instalace
permalink: /2010/01/01/microsoft-sql-server-2005-instalace/
spaces_1d3f038117de6df561f7bf0516bb226c_permalink:
  - "http://cid-6e7b9216726d07b8.users.api.live.net/Users(7961117391414167480)/Blogs('6E7B9216726D07B8!242')/Entries('6E7B9216726D07B8!305')?authkey=EpZNAU0huAk%24"
  - "http://cid-6e7b9216726d07b8.users.api.live.net/Users(7961117391414167480)/Blogs('6E7B9216726D07B8!242')/Entries('6E7B9216726D07B8!305')?authkey=EpZNAU0huAk%24"
categories:
  - Nezařazené
  - SQL Server
---
<div id="msgcns!6E7B9216726D07B8!305" class="bvMsg">
  <p>
    <a href="http://janmarek.eu/wp-content/uploads/2010/10/sqlserver20055b45d.png" rel="WLPP"><img style="display:inline;border-width:0;margin:0 10px 0 0;" title="sqlserver2005" border="0" alt="sqlserver2005" align="left" src="http://janmarek.eu/wp-content/uploads/2010/10/sqlserver20055b45d.png?w=290" width="240" height="66" /></a> licencovani na server a na instanci je na kazdy osazeny slot CPU &#8211; pokud se jedna o failover cluster s active/passive nod, tak se plati pouze za active nod<br /><b>Installing SQL2005</b><br />&#8211; named instance &#8211; ma svoje sluzby &#8211; da se vyborne vyuzit na clustering<br />&#8211; kazda sluzba SQL by mela byt svuj domenovy ucet (hlavne reporting services) &#8211; nemusi byt lokalni administrator, je to resene pres GPO, ktere udela sam instalator (jako run as service);pokud ale existuje GPO security, tak se doporucuje dat SQL servery do jednoho OU a na nem si pohlidat GPO<br />&#8211; Windows Collations &#8211; je reseni znaku na urovni OS (Windows locale)<br />&#8211; SQL Collations &#8211; protoze napr. NTFS neni case-sensitive, ale v SQL ho chci pouzit, tak pouziji SQL collation<br />&#8211; unattended instalace pomoci "setup.exe /settings sett.ini"<br />&#8211; sett.ini se da vyrobit pomoci zvoleni REMOTE instalaci pri klikani setup.exe<br />&#8211; zvlast davat na disky ldf a mdf/ndf<br />&#8211; jak editovat uz stavajici instalaci serveru/instance = add/remove programs &#8211; Microsoft SQL Server 2005 (vzdy pouzivat pouze tuto polozku) &#8211; change &#8211; &#8230;<br /><b>Surface Area Configuration</b><br />&#8211; udrzet max. miru bezpecnosti pri uzivani sql serveru<br />&#8211; CLR = common language runtime<br />&#8211; DAC = dedicated administrator connection &#8211; pokud dojde RAM, tak se dostanu ke konzoli &#8211; funguje tak, ze pri startu sluzby se rovnou dedikuje misto v RAM pro budouci spusteni konzole<br />&#8211; xp_cmdshell = prikazy pres tento sel nejsou nijak hlidane SQL serverem.<br /><b>SQL Server Configuration Manager</b><br />&#8211; nizkourovnova konfigurace sluzeb, site (ktere interface, porty, &#8230;) a klienta (nativni sql klient umi aliasy)<br /><b>SQLcmd</b><br />&#8211; pouziva OLEDB provider<br />&#8211; jak spustit napr. nejaky vzdaleny skript pres konzoli = "sqlcmd -s server -i sqlfile.sql"<br />&#8211; umi pouzit promenou (parametr -v), takze do sqlfile.sql napisu promene ve tvaru $(variable) a pote pomoci "sqlcmd -s server -i sqlfile.sql -v variable=hodnotapromene variable2=hodnotadruhepromene"<br />&#8211; a jeste treba do souboru vystup pomoci -o takze: ""sqlcmd -s server -i sqlfile.sql -o cestasoubor.txt -v variable=hodnotapromene variable2=hodnotadruhepromene"<br />&#8211; da se pak jeste spustit v admin rezimu (pres DAC), kde se daji spoustet i prikazy, ktere jinak nejsou povolene (napr. shutdown,&#8230;): "sqlcmd -s server -a"<br />&#8211; v express edici sql je to jediny tool jak pracovat s tabulkami<br /><b>SQL Server Management Studio</b><br />&#8211; dobre je zobrazit Registered Services &#8211; kde se daji delat server skupiny pro vetsi prehled; kazdy server muze byt pouze v jedne skupine<br />&#8211; dobre je zobrazit Template Explorer &#8211; kde jsou priklady scriptu/sablony &#8211; pomoci CTRL+SHIFT+M doplnim promene sablony (specify values for templates&#8230;)<br />&#8211; vyroba vlastni sablony: vytvorit si skupinu, sablonu a pak dat edit<br />&#8211; parametry v sablone se davaji do &#8211; sablona pro vytvoreni databaze je MODEL db v System Databases<br />&#8211; pouziva nemodalni okna &#8211; nezavisla na rodicovskych<br />&#8211; cokoli naklikam v konzoli, mohu nahore pomoci tlacitka SCRIPT hodit do scriptu a podivat se, jak se operace provede skriptem<br />&#8211; nastaveni textoveho editoru &#8211; oznacit ho, tools, options, text editor<br />&#8211; database-options-processes- BOOST SQL SERVER PRIORITY a USE WINDOWS FIBERS(pokud je vice vypoctu, tak diky tomuto se mohou delat soucasne a ne po sobe) &#8211; pokud se jedna o server, na kterem je jen SQL, tak to mohu oboje zapnout a jeste nastavit pocet (kolik jader, tolik vlaken)</div>